apiVersion: kpt.dev/v1alpha1
kind: Kptfile
metadata:
  name: kustomizes
packageMetadata:
  tags:
  - nos.build.nuxeo.io/app=k8s-policies-controller
  shortDescription: nuxeo k8s policies controller for gcp auth, gcp workload and node
    profiles
openAPI:
  definitions:
    io.k8s.cli.setters.docker-registry:
      x-k8s-cli:
        setter:
          name: docker-registry
          isSet: true
          value: "gcr.io/build-jx-prod"
    io.k8s.cli.setters.docker-org:
      x-k8s-cli:
        setter:
          name: docker-org
          value: nuxeo
          isSet: true
    io.k8s.cli.setters.image-tag:
      x-k8s-cli:
        setter:
          name: image-tag
          value: 0.0.1
          isSet: false
          required: true
    io.k8s.cli.substitutions.image-name:
      x-k8s-cli:
        substitution:
          name: image
          pattern: ${docker-registry}/${docker-org}/k8s-policies-controller
          values:
          - marker: ${docker-registry}
            ref: '#/definitions/io.k8s.cli.setters.docker-registry'
          - marker: ${docker-org}
            ref: '#/definitions/io.k8s.cli.setters.docker-org'
